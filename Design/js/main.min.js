var app=angular.module("ngApp",["ngAnimate","ngSanitize","ui.bootstrap","ui.select","ui.carousel","ngCookies"]),_g_req_counter=0,_g_loader_elem=void 0,bbstar_initState=!0,getParameterByName=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o&&o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):""},showLoader=function(){(_g_loader_elem||(_g_loader_elem=document.getElementById("loader-background")))&&++_g_req_counter>0&&(bbstar_initState&&(getParameterByName("bbsc",window.location.href)?(_g_loader_bbstar_txt=document.getElementById("bbstar-benifits-message"),_g_loader_bbstar_txt.style.display="block"):bbstar_initState=!1),_g_loader_elem.style.display="block")},hideLoader=function(){_g_loader_elem&&(_g_req_counter>0&&_g_req_counter--,_g_req_counter<=0&&(_g_loader_elem.style.display="none",bbstar_initState&&(_g_loader_bbstar_txt=document.getElementById("bbstar-benifits-message"),_g_loader_bbstar_txt.style.display="none",bbstar_initState=!1)))};angular.module("ngApp").factory("Loader",["$q","$cookies",function(e,t){return{request:function(e){return e.dont_show_loader||showLoader(),e},requestError:function(t){return t.config.dont_show_loader||hideLoader(),e.reject(t)},response:function(e){e.config.dont_show_loader||hideLoader();var t=e.headers();return t["content-type"]&&"text/html; charset=utf-8"===t["content-type"]&&(window.location.href="/auth/login/?next=/basket"),e},responseError:function(t){return t.config.dont_show_loader||hideLoader(),e.reject(t)}}}]).config(["$httpProvider",function(e){e.defaults.xsrfCookieName="csrftoken",e.defaults.xsrfHeaderName="X-CSRFToken"}]).config(["$httpProvider",function(e){e.interceptors.push("Loader"),e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var t=function(e){var o,r,n,a,s,i,d="";for(o in e)if((r=e[o])instanceof Array)for(i=0;i<r.length;++i)a=r[i],(s={})[o+"["+i+"]"]=a,d+=t(s)+"&";else if(r instanceof Object)for(n in r)a=r[n],(s={})[o+"["+n+"]"]=a,d+=t(s)+"&";else void 0!==r&&null!==r&&(d+=encodeURIComponent(o)+"="+encodeURIComponent(r)+"&");return d.length?d.substr(0,d.length-1):d};e.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]).run(["$http","$cookies",function(e,t){e.defaults.headers.post["X-CSRFToken"]=t.get("csrftoken"),e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]);